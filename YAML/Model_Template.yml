---
#Set units:
input_units: 'SI'
output_units: 'SI'

#Define the fluids for the fluid loops
#the syntax &name creates an variable within the yaml file which can be called as *name
hot_loop_fluid: &hot_loop_fluid 'H2O'
working_loop_fluid: &working_loop_fluid 'isobutane'
#cooling_loop_fluid: &cooling_loop_fluid 'H2O'

working_loop_mass_flow: &working_loop_mflow 60

Loop_models:
  Hot_loop_model:
    Well: #name
      node_type: Boundary
      name: 'Well'
      fluid: *hot_loop_fluid
      P: [40, 'bar']
      T: [473, 'kelvin']
    WaterHEX: #name
      node_type: HEX
      name: 'WaterHEX'
      US: 'Well'
      DS: 'WaterHEXOut'
      dP: [38, 'bar']
      w: [50.232, 'kg/s']
    WaterHEXOut:  #name
      node_type: TBoundary
      name: 'WaterHEXOut'
      fluid: *hot_loop_fluid
      P: [2, 'bar']
      T: [314.31038, 'kelvin']
    WaterPump:  #name
      node_type: fixedWPump
      name: 'WaterPump'
      US: 'WaterHEXOut'
      DS: 'Outlet'
      eta: 0.7
      PR: 1
      w: [90, 'kg/s']
    Outlet:  #name
      node_type: POutlet
      name: 'Outlet'
      fluid: *hot_loop_fluid
      P: [140, 'bar']
      T: [500, 'kelvin']

  Working_loop_model:
    LowT:  #name
      node_type: Boundary
      name: 'LowT'
      fluid: *working_loop_fluid
      P: [5, 'bar']     #5  #Editing in a hard-coded value
      T: [308, 'kelvin']
    Pump:
      node_type: Pump
      name: 'Pump'
      eta: .7
      PR: 2.1
      w: *working_loop_mflow
      US: 'LowT'
      DS: 'PumpOut'
    PumpOut:
      node_type: Station
      name: 'PumpOut'
      fluid: *working_loop_fluid
    ORC_HEX:
      node_type: HEX
      name: 'ORC_HEX'
      US : 'PumpOut'
      DS : 'TurbIn'
      w: *working_loop_mflow
      Q:
        replacement_variable:
          ORC_HEX_Q: "-list_of_model_loops[0]['WaterHEXOut'].Q"
      dP: [1,'bar']
      D: [2, 'in']
      L: 3
    TurbIn:
      node_type: Station
      name: 'TurbIn'
      fluid: *working_loop_fluid
    Turb:
      node_type: fixedWTurbine
      name: 'Turb'
      eta: .75
      PR: 1.3
      w: *working_loop_mflow
      US: 'TurbIn'
      DS: 'TurbOut'
    TurbOut:
      node_type: Station
      name: 'TurbOut'
      fluid: *working_loop_fluid
    CoolHex:
      node_type: HEX
      name: 'CoolHex'
      US : 'TurbOut'
      DS : 'LowT'
      w: *working_loop_mflow
      dP: [1,'bar']
  